<% if(isLoggedin) {%>
   <%- include("../layouts/userheader.ejs") %>
   <% } else { %>
       <%- include("../layouts/guestHeader.ejs") %>
    <% } %>

   <!-- CSS only -->
   <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous"> -->

   <body >

      

      <div id="error"></div>

      <div class="ex-form-1 mt-5 pt-5 pb-5">
         <div class="container">
            <div class="col-xl-6 offset-xl-3">
               <div class="card" style="background-color: #545454; color:white;">
                  <div class="card-body">
                     <div class="card-title">User Register Form</div>




                     <hr>

                     <p style="color: green;"></p>

                     <% if(typeof message !=='undefined' ) { %>
                        <p style="color: green;">
                           <%= message %>
                        </p>
                        <% } %>

                        

                     <form  action="" onsubmit="return validation()" method="post" enctype="application/x-www-form-urlencoded" >
                        
                        <div class="form-group">
                           
                           <input type="text" id="name" name="name" class="form-control form-control-rounded" placeholder="enter name"/>
                           <span id="name-error" style="color: red;"></span>
                          <br>
                        </div>

                        <div class="form-group">
                           <input type="email" id="email" name="email" class="form-control form-control-rounded" placeholder="enter email"/>
                      <span id="email-error" style="color:red;"></span>
                      <br>
                        </div>

                        <div class="form-group">
                           <input type="text" id= "mno" name="mno" class="form-control form-control-rounded" placeholder="enter mobile" />
                           <span id="mno-error" style="color: red;"></span>
                          <br>
                        </div>


                        <!-- <div class="form-group">

                           <input type="file" name="image" class="form-control form-control-rounded" />
                           <br>
                        </div> -->

                        <div class="form-group">

                           <input type="password" id="password" name="password" class="form-control form-control-rounded" placeholder="enter password"/>
                           <span id="password-error" style="color: red;"></span>
                           <br>
                        </div>

                        <div class="form-group">

                           <input type="password" id="confpassword" name="confpassword" class="form-control form-control-rounded" placeholder="confirm your password"/>
                           <span id="confpassword-error" style="color: red;"></span>
                           <br>
                        </div>

                        <hr>
                        <input type="submit" value="Register">

                     </form>

                  </div>
               </div>
            </div>
         </div>
      </div>
   </body>


  

<script type="text/javascript">
function validation() {
const name = document.getElementById('name').value;
const email = document.getElementById('email').value;
const mno = document.getElementById('mno').value;
const password = document.getElementById('password').value;
const confpassword = document.getElementById('confpassword').value;
// const form = document.getElementById('form');
// const errorElement = document.getElementById("error");

const userCheck =  /^[A-Za-z. ]{3,30}$/ ;
// const emailCheck = /^[A-Za-z_]{3,}@[A-Za-z]{3,}[.]{1}[A-Za-z.]{2,6}$/ ;
//const mnoCheck = /^[91][0-9]{9}$/ ;
//const passwordCheck =  /^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,16}$/ ;
const emailCheck = /^[ a-z A-Z 0-9_\-\.]+[@]+[a-z]+[\.][a-z]{2,3}$/;
const mnoCheck = /^[0-9]{10}$/ ;
const passwordCheck = /^[A-Z]+[a-z]+[0-9]+[@#]+$/;





    
    if( userCheck.test(name)) {
        
        document.getElementById("name-error").innerHTML = ""
        
    } else {
      document.getElementById("name-error").innerHTML = "please enter name" ;
      return false;

    }

    if( emailCheck.test(email) ) {
        
        document.getElementById("email-error").innerHTML = ""
       
    }else {
      document.getElementById("email-error").innerHTML = "please enter valid email"
      return false;
    }

    if(mnoCheck.test(mno)) {
        
        document.getElementById("mno-error").innerHTML = ""
        
    } else {
      document.getElementById("mno-error").innerHTML = "please enter 10 digit mobile number"
      return false;
    }

    if(passwordCheck.test(password) ) {
        
        document.getElementById("password-error").innerHTML = ""
        
    } else {
      document.getElementById("password-error").innerHTML = "please enter valid password"
      return false;
    }

     if(confpassword.match(password)) {
       document.getElementById("confpassword-error").innerHTML = ""
     }else {
       document.getElementById("confpassword-error").innerHTML = "password does not match"
       return false;
     }

   
   
}
</script>

<%- include("../layouts/userfooter.ejs") %>
