<%- include("../layouts/adminheader.ejs") %>



                    <div class="container">
                        <br>
                        <div class="row">
                            <div class="col-xl-6 offset-xl-3">
                                <div class="text-box mt-5 mb-5">
                                    <h2 style="color: black;">Edit Product</h2>
                                    <div>
                                        <% if(typeof messages!=='undefined' ){ %>
                                            <h4>
                                                <p style="color: rgb(11, 139, 47);">
                                                    <%= messages%>
                                                </p>
                                            </h4>
                                            <% } %>
                                                <% if(typeof message!=='undefined' ){ %>
                                                    <h4>
                                                        <p style="color: rgb(255, 0, 0);">
                                                            <%= message%>
                                                        </p>
                                                    </h4>
                                                    <% } %>
                                    </div>
                                    <form action="/admin/editProduct/<%=product._id%>" method="post" encType="multipart/form-data">
                
                
                
                                        <div class="mb-4 form-floating">
                                            <label for="floatingInput">Name</label>
                                            <input type="text"  style="background-color:black;"name="name" class="form-control" value="<%=product.name%>" placeholder="Product Name" required>
                                        </div>
                                        <div class="d-flex flex-row align-items-center mb-4">
                
                                            <div class="form-outline flex-fill mb-0">
                                                <label class="form-label  select-label" for="form3Example1c">Category</label>
                                                <select name="category"  style="background-color:black;"class="form-control">
                                                    <option value="" disabled selected><%=product.category%></option>
                                                    <% if(category){ %>
                                                        <% for(let i=1;i <=category.length; i++){ %>
                                                            <option value="<%= category[i-1]._id %>">
                                                                <%= category[i-1].name %>
                                                            </option>
                                                            <% } %>
                                                                <% }else{ %>
                                                                    <h1>No Categories to add</h1>
                                                                    <% } %>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="mb-4 form-floating">
                                            <label for="floatingPassword">Price</label>
                                            <input type="text"  name="price"  style="background-color:black;" class="form-control font-weight-bold" id="floatingPassword" value="<%=product.price%>"
                                                placeholder="Price" required>
                                        </div>
                                        <!-- <div class="mb-4 form-floating">
                                            <label for="floatingPassword">Quantity</label>
                                            <input type="text" name="quantity" class="form-control" id="floatingPassword"
                                                placeholder="Quantity" required>
                                        </div> -->
                                        <div class="mb-4 form-floating">
                                            <label for="floatingInput">Product Description</label>
                                            <input type="text"  style="background-color:black;" name="description" class="form-control" id="floatingInput2" value="<%=product.description%>"
                                                placeholder="Product description" style="height:7rem;" required>
                                        </div>
                                        <!-- <div class="form-outline flex-fill mb-0">
                                            <label class="form-label" for="form3Example1c">Rating</label>
                                            <input type="number" id="form3Example1c" class="form-control" name="rating" max="5"
                                                required />
                
                                        </div>-->
                                        <div class="mb-4 form-floating">
                                            <label for="floatingInput">Stock</label>
                                            <input type="text"  style="background-color:black;" name="stock" class="form-control" id="floatingInput2" value="<%=product.stock%>"
                                                placeholder="Edit the stock" style="height:7rem;" required>
                                        </div>
                                        <div class="mb-4 form-floating">
                                            <label for="floatingInput">Image</label>
                                            <img src="/banners/<%=product.image[0]%>" height="75vh" width="75vh">
                                            <img src="/banners/<%=product.image[1]%>" height="75vh" width="75vh">
                                            <img src="/banners/<%=product.image[2]%>" height="75vh" width="75vh">
                                            <img src="/banners/<%=product.image[3]%>" height="75vh" width="75vh">
                                            <input type="file" style="background-color:black;" name="uploaded_file" class="form-control"  id="formFileMultiple"  multiple>
                                        </div>
                                        <br>
                                        <div class="d-flex flex-row align-items-center mb-4">
                                            <button type="submit" class="btn btn-success">Submit
                                                <a href="/admin/view-products" class="btn btn-dark btn-round px-5">Go Back</a>
                                            </button>
                
                                        </div>
                                    </form>
                                </div>
                
                            </div>
                        </div>
                    </div>