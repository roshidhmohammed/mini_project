<%- include("../layouts/adminheader.ejs") %>

<div class="col-md-12">
    <div class="card">
        <div class="header">
            <h4 class="title">Admin Categories</h4>
            <p class="category">All Brands Categories</p>
            <hr style="color:black;">
        </div>
        <div class="d-flex align-items-center justify-content-between mb-4">
            <table width="100%" class="table" style="color: black;">
                <tr>
                    <th>Sl No</th>
                    <th>Items</th>
                    <th>Edit</th>
                    <th>Actions</th>
                </tr>
                <br>
                <% if(category.length>0) {
                    for(let i=0;i<category.length;i++) { %>
                        <tr>
                            <td>
                                <%= i+1 %>
                            </td>
                            <td>
                                <%= category[i].name %>
                            </td>
                            <td>
                                <a class="text-success"
                                                href="/admin/editcategory?id=<%=category[i]._id%>"><i
                                                    style="color: green;"
                                                    class="m-r-5 mdi mdi-border-color"></i>Edit</a><br>
                            </td>
                            <td>
                                <% if(category[i].is_available === 0){ %>
                                <button type="button" ><a href="/admin/admin-category-block?id=<%= category[i]._id%>"
                                style="color:green; text-decoration: none;" class="btn btn-outline-success"></a>Show</button>
                                <%} else { %>
                                <button type="button" ><a href="/admin/admin-category-unblock?id=<%= category[i]._id%>"
                                style="color: red; text-decoration: none;" class=" delete btn btn-outline-success" ></a>Hide</button>

                                <% } %>
                                
                               </td>
                        </tr>
                <% } } else { %>
                        <tr>
                            <td colspan="5">categories not found</td>
                        </tr>
                     <% } %>
                
            </table>
        </div>
    </div>
</div>

<script>
    $(".delete").on("click", function(e) {
    e.preventDefault()
    var self = $(this)
    Swal.fire({
  title: 'Are you sure?',
  text: "You won't be able to revert this!",
  icon: 'warning',
  showCancelButton: true,
  confirmButtonColor: '#3085d6',
  cancelButtonColor: '#d33',
  confirmButtonText: 'Yes, delete it!'
}).then((result) => {
  if (result.isConfirmed) {
    Swal.fire(
      // 'Deleted!',
      // 'Your file has been deleted.',
      // 'success'
      location.href =self.attr('href')
    )
  }
})
    })
  </script>

  <%-include("../layouts/adminfooter.ejs") %>